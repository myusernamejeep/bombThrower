(function(d){function c(a,b){this.spritesheet=a;this.callback=b;this.initialize()}c.EMPTY_FORWARD="HeadEmpty";c.FULL_FORWARD="HeadCharged";c.EMPTY_BACKWARD="HeadBackEmpty";c.FULL_BACKWARD="HeadBackCharged";c.HANDLE_IDLE="YarHandIdle";c.HAND_SHOOT="YarHandFire";c.FIRE_DELAY=20;c.prototype={sprite:null,position:null,radius:5,vx:0,vy:0,x:0,y:0,dx:null,dy:null,width:null,height:null,canRemove:null,isKilled:null,disabled:null,ss:null,json:null,full:null,body:null,frontLeg:null,backLeg:null,oldX:null,assets:null,
swing:null,head:null,frontArm:null,backArm:null,hand:null,arm:null,headSpriteSheet:null,bodySpriteSheet:null,isBackwards:null,pieces:null,canFire:null,numTicks:null,lastFire:null,oldYarsX:null,oldYarsY:null,currentX:null,currentY:null,tween:null,allowTween:null,sprite1:null,spritesheet:null,initialize:function(){this.full=!1;this.currentY=this.currentX=this.oldYarsY=this.oldYarsX=0;this.allowTween=!1;this.pieces=[];this.oldX=this.swing=0;this.width=116;this.height=95;this.lastFire=this.numTicks=0;
this.lastFire=(new Date).getTime();this.canFire=!0;this.isBackwards=!1;this.sprite=new Container;this.sprite1=new Container;this.arm=new Container;this.body=new BitmapAnimation(this.spritesheet);this.body.regX=39;this.body.regY=31;this.body.gotoAndPlay("YarBody");this.spritesheet.getAnimation("YarBody").next="YarBody";this.head=new BitmapAnimation(this.spritesheet);this.head.x=46;this.head.y=5;this.head.regX=8;this.head.regY=13;this.head.gotoAndStop(c.EMPTY_FORWARD);this.frontLeg=new BitmapAnimation(this.spritesheet);
this.frontLeg.x=4;this.frontLeg.y=23;this.frontLeg.regX=8;this.frontLeg.regY=7;this.frontLeg.gotoAndStop("YarLegFront");this.backLeg=new BitmapAnimation(this.spritesheet);this.backLeg.x=4;this.backLeg.y=4;this.backLeg.gotoAndStop("YarLegBack");this.frontLeg.regX=9;this.frontLeg.regY=7;this.frontArm=new BitmapAnimation(this.spritesheet);this.frontArm.gotoAndStop("YarArmFront");this.backArm=new BitmapAnimation(this.spritesheet);this.backArm.x=25;this.backArm.y=7;this.backArm.regX=9;this.backArm.regY=
8;this.backArm.gotoAndStop("YarArmBack");this.hand=new BitmapAnimation(this.spritesheet);this.hand.onAnimationEnd=Atari.proxy(this.handleShootComplete,this,this.hand);this.hand.x=55;this.hand.y=27;this.hand.regX=9;this.hand.regY=8;this.hand.gotoAndStop(c.HANDLE_IDLE);this.arm.x=18;this.arm.y=12;this.arm.regX=6;this.arm.regY=7;this.arm.addChild(this.frontArm);this.arm.addChild(this.hand);this.sprite1.addChild(this.backLeg);this.sprite1.addChild(this.backArm);this.sprite1.addChild(this.body);this.sprite1.addChild(this.frontLeg);
this.sprite1.addChild(this.arm);this.sprite1.addChild(this.head);this.sprite.addChild(this.sprite1);this.sprite.width=this.width;this.sprite.height=this.height;this.setPosition()},start:function(){this.body.gotoAndPlay("YarBody");this.spritesheet.getAnimation("YarBody").next="YarBody"},handleShootComplete:function(){this.hand.gotoAndPlay(c.HANDLE_IDLE)},fire:function(){this.canFire=!1;this.lastFire=this.numTicks;this.hand.gotoAndPlay(c.HAND_SHOOT)},setPosition:function(){for(var a=this.sprite1.children.length,
b=0;b<a;b++){var e=this.sprite1.children[b],c=-45*Math.random(),f=-20*Math.random();e.vx=Math.cos(c)+f;e.vy=Math.sin(c)+f;e.r=5*Math.random();e.alpha=1;this.pieces.push(e)}},tick:function(a,b){if(this.isKilled)for(var e=this.pieces.length,i=0;i<e;i++){var f=this.pieces[i];0!=f.alpha&&(f.vx+=-0.52,f.vy+=0.98*b,f.vy*=0.98,f.x+=f.vx,f.y+=f.vy,f.rotation+=f.r,f.alpha-=0.02,0.02>f.alpha&&(f.alpha=0,i==e-1&&this.callback()))}else{this.numTicks+=1*b;if(0==this.lastFire||this.numTicks>this.lastFire+c.FIRE_DELAY)this.canFire=
!0;e=this.isBackwards?this.full?c.FULL_BACKWARD:c.EMPTY_BACKWARD:this.full?c.FULL_FORWARD:c.EMPTY_FORWARD;this.isBackwards?(this.sprite1.setChildIndex(this.head,this.sprite1.children.length-1),this.head.rotation=0,this.head.x=27):(this.sprite1.setChildIndex(this.head,this.sprite1.children.length-2),this.head.regX=8,this.head.regY=13,this.head.rotation=Math.max(-30,Math.min(a,30)),this.head.x=38,this.head.y=0);this.head.gotoAndStop(e);this.frontLeg.rotation+=0.7*(this.sprite.x-this.oldX);this.backLeg.rotation+=
0.7*(this.sprite.x-this.oldX);this.swing=0.8*this.swing+-(this.frontLeg.rotation/50);this.frontLeg.rotation=Math.max(-90,Math.min(this.frontLeg.rotation+this.swing,90));this.backLeg.rotation=Math.max(-90,Math.min(this.backLeg.rotation+this.swing,90));e=this.getDirX();i=this.getDirY();e&&i?Tween.get(this.sprite1,{loop:!0}).to({y:this.sprite1.y+10},500,Ease.quadInOut).to({y:this.sprite1.y},500,Ease.quadInOut):Tween.removeTweens(this.sprite);this.oldX=this.sprite.x}},getDirX:function(){this.oldYarsX=
this.currentX;this.currentX=this.sprite1.x;var a=!1;return a=this.oldYarsX>this.currentX?!1:this.oldYarsX<this.currentX?!1:!0},getDirY:function(){this.oldYarsY=this.currentY;this.currentY=this.sprite1.y;var a=!1;return a=this.oldYarsY>this.currentY?!1:this.oldYarsY<this.currentY?!1:!0},getRotation:function(){return this.sprite.rotation},rotation:function(a){this.sprite.rotation=a},kill:function(){this.full=!1;this.isKilled=!0;this.canFire=!1},reset:function(){this.full=!1;this.pieces=[];this.body.x=
0;this.body.y=0;this.head.x=46;this.head.y=5;this.frontLeg.x=4;this.frontLeg.y=23;this.backLeg.x=4;this.backLeg.y=4;this.backArm.x=25;this.backArm.y=7;this.hand.x=55;this.hand.y=27;this.arm.x=18;this.arm.y=12;this.canFire=!0;this.body.rotation=0;this.head.rotation=0;this.frontLeg.rotation=0;this.backLeg.rotation=0;this.backArm.rotation=0;this.hand.rotation=0;this.arm.rotation=0;this.hand.rotation=0;this.setPosition();this.isKilled=!1;this.body.gotoAndPlay("YarBody");this.spritesheet.getAnimation("YarBody").next=
"YarBody"}};d.currentGame.Yars=c})(window.Atari);(function(d){function c(a,b){this.spritesheet=a;this.callback=b;this.initialize()}c.IDLE="BossIdle";c.HIT="BossHit";c.CHARGE="BossCharge";c.CHARGE_SPEED=18*Math.random()-14;c.NORMAL_SPEED=4*Math.random()-2;c.prototype={sprite:null,vx:0,vy:0,duration:null,cx:null,cy:null,width:null,height:null,shake:null,boss:null,healthBar:null,healthTrack:null,hitCount:null,hitTotal:null,spritesheet:null,shakeSpeed:null,charged:null,totalCount:null,count:null,isKilled:null,shield:null,hitSound:null,drool:null,canShake:null,
originX:null,originY:null,shakeCount:null,initialize:function(){this.shake=!1;this.duration=50;this.hitTotal=10;this.hitCount=0;this.totalCount=5;this.originX=this.originY=this.shakeCount=this.count=0;this.isKilled=this.charged=!1;this.canShake=!0;this.sprite=new Container;var a=[c.IDLE,c.CHARGE,"QotileDrool"],b;for(b in this.spritesheet._data)this.spritesheet._data[b].frequency=4,this.spritesheet._data[b].next=-1!=a.indexOf(b)?b:!1;this.boss=new BitmapAnimation(this.spritesheet);this.boss.gotoAndPlay("BossIdle");
this.boss.regX=62.5;this.boss.regY=75.5;this.boss.onAnimationEnd=Atari.proxy(this.onAnimationComplete,this,this.boss);this.height=this.width=90;this.drool=new BitmapAnimation(this.spritesheet);this.spritesheet._data.QotileDrool.frequency=5;this.drool.gotoAndPlay("QotileDrool");this.healthBar=new Shape;this.healthTrack=new BitmapAnimation(this.spritesheet);this.healthTrack.gotoAndStop("UIBossHealth");g=this.healthBar.graphics;g.setStrokeStyle(1);g.beginFill("#b30012");g.drawRoundRect(2,1,97,5,3);g.endFill();
this.healthBar.x=this.width/4-100>>1;this.healthBar.y=110;this.healthTrack.x=this.healthBar.x;this.healthTrack.y=this.healthBar.y;this.shield=new BitmapAnimation(this.spritesheet);this.shield.gotoAndStop("QotileShield");this.shield.regX=83.5;this.shield.regY=83.5;this.shield.alpha=0;this.drool.x=this.healthTrack.x+10;this.drool.y=25;this.sprite.addChild(this.shield);this.sprite.addChild(this.drool);this.sprite.addChild(this.boss);this.sprite.addChild(this.healthTrack);this.sprite.addChild(this.healthBar)},
createExplosion:function(){this.shake=!0;this.duration=100;if(this.totalCount==this.count)this.duration=0,this.shake=!1,this.shakeCount=0,this.canShake=!0,this.callback();else{var a=[new Point(-35,-35),new Point(-57,-57.5),new Point(-12.5,-57.5),new Point(-12.5,-12.5),new Point(-57.5,-12.5)];this.spritesheet._data.QotileExplosion.frequency=2;var b=new BitmapAnimation(this.spritesheet);b.gotoAndPlay("QotileExplosion");b.onAnimationEnd=Atari.proxy(this.handleExplosionComplete,this,b);b.x=a[this.count].x;
b.y=a[this.count].y;this.sprite.addChild(b)}},hitSheild:function(a,b){this.shield.alpha=1;var e=this.sprite.globalToLocal(a,b),e=180*Math.atan2(e.y-this.shield.y,e.x-this.shield.x)/Math.PI-180;this.shield.rotation=e;Tween.get(this.shield,{override:!0}).wait(300).call(this.handleSheildComplete,null,this)},handleSheildComplete:function(){Tween.get(this.shield,{override:!0}).to({alpha:0},300)},handleComplete:function(){this.count++;this.createExplosion()},handleExplosionComplete:function(a){this.sprite.removeChild(a);
Tween.get(this.sprite,{override:!0}).wait(100).call(this.handleComplete,null,this)},onAnimationComplete:function(a){switch(a.currentAnimation){case c.HIT:a.gotoAndPlay(c.IDLE);break;case c.CHARGE:a.gotoAndPlay(c.IDLE),this.charged=!0,this.shake=!1}},hit:function(a){this.shake=!0;a&&(null==this.hitSound&&(this.hitSound=SoundJS.play("qotileHit")),this.count=0,a=++this.hitCount/this.hitTotal,this.healthBar.scaleX=Math.max(1-a,0),this.boss.gotoAndPlay(c.HIT))},kill:function(){this.isKilled=!0;this.hitSound&&
this.hitSound.stop();this.hitSound=null;this.createExplosion()},reset:function(){this.healthBar.scaleX=1;this.hitCount=0;this.isKilled=!1;this.shakeCount=0;this.canShake=!0},charge:function(){this.boss.gotoAndPlay(c.CHARGE);this.shake=!0},onFinishShake:function(){this.shakeCount++;10<=this.shakeCount&&(Tween.removeTweens(this.sprite),this.sprite.x=this.originX,this.sprite.y=this.originY,this.canShake=!0,this.shakeCount=0)},tick:function(){this.shake&&this.canShake&&(this.shakeCount=0,this.canShake=
this.shake=!1,Tween.get(this.sprite,{loop:!0}).to({x:this.sprite.x+10*Math.random()-10,y:this.sprite.y+10*Math.random()-10},100).call(this.onFinishShake,null,this))}};d.currentGame.Qotile=c})(window.Atari);(function(d){function c(a,b){this.radius=a;this.color=b;this.initialize()}c.TIMER=300;c.prototype={sprite:null,hitCount:null,radius:null,angle:null,outer:null,direction:null,speed:null,index:null,isHit:null,width:null,height:null,vx:null,vy:null,color:null,numTicks:null,initialize:function(){this.hitCount=5;this.speed=0;this.isHit=!0;this.numTicks=this.vx=this.vy=this.index=0;this.sprite=new Shape;var a=this.sprite.graphics;a.setStrokeStyle(1);a.beginFill(this.color);a.drawCircle(0,0,this.radius);
a.endFill();this.width=this.sprite.width=this.radius;this.height=this.sprite.height=this.radius},getHit:function(){return this.isHit},setHit:function(a){this.isHit=a;this.sprite.visible=this.isHit;this.sprite.visible||(this.sprite.scaleX=this.sprite.scaleY=0)},resetEgg:function(){this.sprite.visible=!0;Tween.get(this.sprite,{override:!0}).to({scaleX:scale,scaleY:scale},550,Ease.quadOut)},tick:function(){this.sprite.visible||(this.numTicks++,this.numTicks>c.TIMER&&(this.isHit=!0,this.sprite.visible=
!0,this.numTicks=0,Tween.get(this.sprite,{override:!0}).to({scaleX:1,scaleY:1},550,Ease.quadOut)))}};d.currentGame.Ball=c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.initialize()}c.TIMER=1E3;c.prototype={sprite:null,hitCount:null,radius:null,angle:null,outer:null,direction:null,speed:null,index:null,isHit:null,width:null,height:null,vx:null,vy:null,color:null,numTicks:null,fetus:null,egg:null,timer:null,spawnSound:null,stationaryAngle:null,spritesheet:null,initialize:function(){this.hitCount=5;this.speed=0;this.isHit=!0;this.stationaryAngle=this.timer=this.numTicks=this.vx=this.vy=this.index=0;this.sprite=new Container;
this.fetus=new BitmapAnimation(this.spritesheet);this.fetus.gotoAndStop("Squid");this.egg=new BitmapAnimation(this.spritesheet);this.egg.gotoAndStop("Egg");this.egg.regX=13;this.egg.regY=12;this.fetus.regX=19;this.fetus.regY=18;this.sprite.addChild(this.egg);this.width=this.sprite.width=40;this.height=this.sprite.height=40},getHit:function(){return this.isHit},setHit:function(a){this.isHit=a;this.isHit||(Tween.get(this.sprite,{override:!0}).to({scaleX:0,scaleY:0},550,Ease.quadOut).call(this.onTweenCompleteScale,
null,this),this.spawnSound&&this.spawnSound.stop(),this.spawnSound=null)},onTweenCompleteScale:function(){this.sprite.visible=!1},stop:function(){},onTweenComplete:function(){null==this.spawnSound&&(this.spawnSound=SoundJS.play("eggSpawn"))},resetEgg:function(){this.isHit=this.sprite.visible=!0;Tween.get(this.sprite).to({scaleX:1,scaleY:1},550,Ease.quadOut)},tick:function(){this.sprite.visible||(this.numTicks++,this.numTicks>this.timer&&(this.isHit=!0,this.sprite.visible=!0,this.numTicks=0,Tween.get(this.sprite,
{override:!0}).to({scaleX:1,scaleY:1},550,Ease.quadOut).call(this.onTweenComplete,null,this)))}};d.currentGame.Fetus=c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.initialize()}c.TIMER=300;c.prototype={sprite:null,data:null,angle:null,outer:null,direction:null,speed:null,index:null,isHit:null,width:null,height:null,vx:null,vy:null,color:null,numTicks:null,spritesheet:null,initialize:function(){this.hitCount=5;this.speed=0;this.isHit=!0;this.numTicks=this.vx=this.vy=this.index=0;this.sprite=new BitmapAnimation(this.spritesheet);this.sprite.gotoAndPlay("YarProjectile");this.spritesheet._data.YarProjectile.next=
"YarProjectile";this.width=this.sprite.width=34;this.height=this.sprite.height=21},getHit:function(){return this.isHit},setHit:function(a){this.isHit=a;this.sprite.visible=this.isHit;this.sprite.visible||(this.sprite.scaleX=this.sprite.scaleY=0)}};d.currentGame.Blast=c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.initialize()}c.prototype={sprite:null,spritesheet:null,initialize:function(){this.hitCount=5;this.vx=this.vy=this.speed=0;this.sprite=new BitmapAnimation(this.spritesheet);this.sprite.gotoAndPlay("ZorlonProjectile");this.spritesheet._data.ZorlonProjectile.next="ZorlonProjectile";this.width=this.sprite.width=20;this.height=this.sprite.height=20}};d.currentGame.Missile=c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.emitter;this.initialize()}c.prototype={sprite:null,particleList:null,emitter:null,tickCount:null,particleContainer:null,emitPoint:null,initialize:function(){this.value=5;this.sprite=new Container;this.tickCount=0;this.particleProps={speed:5,gravity:0.2,life:0.8,rotation:!1,angle:270,spread:90};this.emitPoint=new Point;var a=new BitmapAnimation(this.spritesheet);a.gotoAndStop("WaterfallSplash");this.particleList=[a];this.particleContainer=new Container;
this.sprite.addChild(this.particleContainer)},tick:function(a){null!=this.sprite&&(!this.emitter&&this.sprite&&(this.emitter=new GameLibs.ParticleEmitter(this.particleContainer),this.emitter.tickFactor=a),0==++this.tickCount%2&&this.emitter.emitMultiple(this.emitPoint,1,this.particleProps,this.particleList))}};d.currentGame.Splash=c})(window.Atari);(function(d){function c(){this.initialize()}s=c;s.START_LIVES=3;s.START_FETUS_SPAWN=1100;s.FETUS_DECAY=0.01;s.FETUS_MIN=800;s.BADDY_SPAWN=300;s.BADDY_DECAY=0.08;s.BADDY_MIN=30;s.BADDY_TIMER=1200;s.BADDY_TIMER_MIN=600;s.CHANGE_MAX=10;s.HIT_MAX=25;s.MAX_SWIRL_SPEED=80;s.MIN_SWIRL_SPEED=25;c.prototype={currentLevel:null,lives:null,fetusFactor:null,hits:null,charge:null,initialize:function(){this.hits=0;this.currentLevel=1;this.lives=s.START_LIVES;this.calculateCharge()},getSwirlSpeed:function(){return Math.min(80,
25+Math.ceil(5*(this.currentLevel/2)))},getLevelType:function(){return{rotation:0==this.currentLevel%2?!0:!1,oscillate:0==this.currentLevel%3?!0:!1}},getEnergyNeedToFill:function(){return Math.min(10,this.currentLevel+1)},getQotileHitTotal:function(){return Math.min(s.HIT_MAX,this.hits)},getCannonChargeTotal:function(){return this.charge},getFetusSpawnTime:function(){return Math.max(s.FETUS_MIN,s.START_FETUS_SPAWN-s.FETUS_DECAY*this.currentLevel*s.START_FETUS_SPAWN)},getBaddySpawnTime:function(){return Math.max(s.BADDY_MIN,
s.BADDY_SPAWN-s.BADDY_DECAY*this.currentLevel*s.BADDY_SPAWN)},getBaddyTimer:function(){return Math.max(s.BADDY_TIMER_MIN,s.BADDY_TIMER-s.BADDY_DECAY*this.currentLevel*s.BADDY_TIMER)},calculateCharge:function(){this.hits+=this.currentLevel%2?1:0;this.charge=Math.min(s.CHANGE_MAX,this.currentLevel)},levelComplete:function(){this.currentLevel++;this.calculateCharge()},reset:function(){this.change=this.currentLevel=1;this.hits=0;this.lives=s.START_LIVES;this.calculateCharge()}};d.currentGame.LevelManager=
c})(window.Atari);(function(d){function c(){this.initialize()}c.TIMER=300;c.prototype={sprite:null,display:null,bg:null,width:null,height:null,duration:null,showing:null,initialize:function(){this.sprite=new Container;this.duration=1E3;this.bg=new Shape;this.showing=!1;this.width=this.sprite.width=300;this.height=this.sprite.height=100;var a=this.bg.graphics;a.setStrokeStyle(1);a.beginFill("#FF0000");a.drawRect(0,0,this.width,this.height);a.endFill();this.display=new Text("Level 0","75px "+Atari.Fonts.DEMI,"#FFFFFF");
this.display.x=10;this.bg.alpha=0.5;this.bg.alpha=0;this.visible=!1;this.sprite.addChild(this.bg);this.sprite.addChild(this.display);this.sprite.alpha=0},show:function(a){this.showing||(this.showing=!0,this.duration=a,Tween.get(this.sprite).to({alpha:1},this.duration).call(this.handleShowComplete,null,this))},handleShowComplete:function(){this.showing=!1;Tween.get(this.sprite).to({alpha:0},this.duration)},setText:function(a){this.display.text=a}};d.currentGame.Popup=c})(window.Atari);(function(d){function c(a,b,e){this.radius=a;this.color=b;this.spritesheet=e;this.initialize()}c.TIMER=100;c.prototype={sprite:null,hitCount:null,radius:null,angle:null,outer:null,direction:null,speed:null,index:null,isHit:null,width:null,height:null,vx:null,vy:null,color:null,numTicks:null,egg:null,clips:null,oldX:null,currentX:null,dir:null,timer:null,turnOn:null,hasMoved:null,spritesheet:null,initialize:function(){this.hitCount=5;this.speed=0;this.timer=100;this.isHit=!0;this.numTicks=this.vx=
this.vy=this.index=0;this.clips=[];this.turnOn=!1;this.oldX=0;this.dir=1;this.currentX=0;this.hasMoved=!1;this.sprite=new Container;this.spritesheet._data.Egghatch.frequency=6;this.spritesheet._data.SquidIdle.frequency=8;this.egg=new BitmapAnimation(this.spritesheet);this.egg.gotoAndPlay("Egghatch");this.egg.onAnimationEnd=Atari.proxy(this.animationEnd,this);for(var a=0;2>a;a++){var b=new d.currentGame.Legs(this.spritesheet);b.sprite.x=this.sprite.x;b.sprite.y=this.sprite.y;this.clips.push(b);this.sprite.addChild(b.sprite)}this.sprite.addChild(this.egg);
this.width=this.sprite.width=this.radius;this.height=this.sprite.height=this.radius},animationEnd:function(){this.egg.gotoAndPlay("SquidIdle")},getHit:function(){return this.isHit},setHit:function(a){this.hitCount--;this.isHit=a;this.sprite.visible=this.isHit},hitComplete:function(){this.sprite.visible=this.isHit},fixAngle:function(a){return 0>(a%=360)?a+360:a},tick:function(a,b){this.numTicks+=1*b;this.oldX=this.currentX;this.currentX=this.sprite.x;this.oldX>this.currentX?this.dir=this.egg.scaleX=
1:this.oldX<this.currentX?this.dir=this.egg.scaleX=-1:this.egg.scaleX=this.hasMoved?this.dir:1;if(this.numTicks>this.timer){this.hasMoved=this.turnOn=!0;var e=a.sprite.x-this.sprite.x,c=a.sprite.y-this.sprite.y,f=(a.sprite.x-this.sprite.x)/2+this.sprite.x,d=(a.sprite.y-this.sprite.y)/2+this.sprite.y,e=180*Math.atan2(c,e)/Math.PI,e=this.fixAngle(e);a.disabled?Tween.get(this.sprite,{override:!0}).to({x:350,y:d},1200,Ease.quadOut):(Tween.get(this.sprite,{override:!0}).to({x:f,y:d,rotation:e},1200,Ease.quadOut),
Tween.get(this.egg,{override:!0}).to({rotation:-e},1200,Ease.quadOut));this.numTicks=0}else this.turnOn=!1;for(var f=this.clips.length,h=0;h<f;h++)d=this.clips[h],e=this.egg.x-d.sprite.x,c=this.egg.y-d.sprite.y,e=180*Math.atan2(c,e)/Math.PI+180,this.turnOn&&(d.sprite.rotation=e),d.tick()}};d.currentGame.Baddy=c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.initialize()}c.prototype={sprite:null,circles:null,numNodes:null,offset:null,space:null,friction:null,range:null,freq:null,speed:null,count:null,spritesheet:null,initialize:function(){this.circles=[];this.numNodes=15;this.count=0;this.offset=this.getRange(3,4);this.space=this.getRange(6,8);this.speed=0.09+10*Math.random()/50;this.friction=0.9+10*Math.random()/100;this.range=this.getRange(50,66);this.freq=0.1+10*Math.random()/250;this.sprite=new Container;
this.draw()},getRange:function(a,b){return Math.random()*(b-a)+a},draw:function(){for(var a=this.numNodes,b=0;b<a;b++){var e=new BitmapAnimation(this.spritesheet);e.gotoAndStop("Tentacle");e.scaleX=e.scaleY=(this.numNodes-b)/this.numNodes;this.circles.push(e);this.sprite.addChild(e)}},tick:function(){this.circles[0].x=this.offset*Math.cos(Math.PI);this.circles[0].y=this.offset*Math.sin(Math.PI);this.count+=this.freq;var a=(this.range*Math.sin(this.count)+180)*Math.PI/180;this.circles[1].x=-this.offset*
Math.cos(a);this.circles[1].y=-this.offset*Math.sin(a);for(var b,e,c=2;c<this.numNodes;c++)a=this.circles[c].x-this.circles[c-2].x,b=this.circles[c].y-this.circles[c-2].y,e=180*Math.atan2(b,a)/Math.PI,this.circles[c].rotation=e,e=Math.sqrt(a*a+b*b),this.circles[c].x=this.circles[c-1].x+a*this.space/e,this.circles[c].y=this.circles[c-1].y+b*this.space/e}};d.currentGame.Legs=c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.initialize()}c.TIMER=300;c.prototype={sprite:null,hitCount:null,radius:null,angle:null,outer:null,direction:null,speed:null,index:null,isHit:null,width:null,height:null,vx:null,vy:null,color:null,numTicks:null,images:null,ss:null,spritesheet:null,initialize:function(){this.hitCount=5;this.speed=0;this.isHit=!0;this.numTicks=this.vx=this.vy=this.index=0;this.sprite=new BitmapAnimation(this.spritesheet);this.sprite.gotoAndPlay("Energy");this.spritesheet._data.Energy.next=
"Energy";this.sprite.regX=16;this.sprite.regY=18;this.width=this.sprite.width=35;this.height=this.sprite.height=35},getHit:function(){return this.isHit},setHit:function(a){this.isHit=a;this.sprite.visible=this.isHit;this.sprite.visible||(this.sprite.scaleX=this.sprite.scaleY=0)},tick:function(){this.sprite.visible||(this.numTicks++,this.numTicks>c.TIMER&&(this.isHit=!0,this.sprite.visible=!0,this.numTicks=0,Tween.get(this.sprite,{override:!0}).to({scaleX:1,scaleY:1},550,Ease.quadOut)))}};d.currentGame.Energy=
c})(window.Atari);(function(d){function c(a){this.spritesheet=a;this.initialize()}c.IDLE="ZorlonIdle";c.SHOOT="ZorlonFire";c.READY="ZorlonReady";c.PINK="#47cc5a";c.BLUE="#52dfd4";c.prototype={sprite:null,data:null,bar:null,total:null,hasFired:null,fullCharge:null,cannon:null,spritesheet:null,readyCannonSound:null,glowImage:null,initialize:function(){this.total=1;this.currentLevel=0;this.hasFired=this.fullCharge=!1;this.sprite=new Container;this.bar=new Shape;var a=this.bar.graphics;a.setStrokeStyle(1);a.beginFill(c.PINK);
a.drawRect(0,0,10,75);a.endFill();this.bar.scaleY=0;this.cannon=new BitmapAnimation(this.spritesheet);this.cannon.onAnimationEnd=Atari.proxy(this.handleShootComplete,this,this.cannon);this.cannon.gotoAndStop("ZorlonIdle");this.width=this.sprite.width=98;this.height=this.sprite.height=114;this.glowImage=new BitmapAnimation(this.spritesheet);this.glowImage.gotoAndStop(c.READY);this.glowImage.alpha=0;this.bar.rotation=180;this.bar.x=12;this.bar.y=95;this.sprite.addChild(this.bar);this.sprite.addChild(this.cannon);
this.sprite.addChild(this.glowImage)},handleShootComplete:function(){this.cannon.gotoAndPlay(c.IDLE)},changeBarColor:function(a){var b=this.bar.graphics;b.clear();b.setStrokeStyle(1);b.beginFill(a);b.drawRect(0,0,10,75);b.endFill()},shootCannon:function(){this.cannon.gotoAndPlay(c.SHOOT);this.glowImage.alpha=0;Tween.removeTweens(this.glowImage);this.changeBarColor(c.PINK);this.readyCannonSound&&this.readyCannonSound.stop();this.readyCannonSound=null},chargeCannon:function(a){this.currentLevel+=Math.min(a,
this.total);this.fullCharge=this.currentLevel>=this.total?!0:!1;this.bar.scaleY=Math.min(this.currentLevel/this.total,1);1==this.bar.scaleY&&(this.changeBarColor(c.BLUE),Tween.get(this.glowImage,{loop:!0}).to({alpha:1},500).wait(500).to({alpha:0},500),null==this.readyCannonSound&&(this.readyCannonSound=SoundJS.play("cannonReady")))},reset:function(){this.currentLevel=0;this.bar.scaleY=0;this.hasFired=this.fullCharge=!1;this.glowImage.alpha=0;Tween.removeTweens(this.glowImage);this.chargeCannon(this.currentLevel)}};
d.currentGame.Cannon=c})(window.Atari);(function(d){function c(){}c.textureSheet;c.getBitmap=function(a,b,e){var d=c.textureSheet;try{var f=new BitmapAnimation(d);e?f.gotoAndPlay(a):f.gotoAndStop(a);f.type=a;if(0!=f.spriteSheet._frameWidth)f.width=f.spriteSheet._frameWidth,f.height=f.spriteSheet._frameHeight;else try{var j=f.spriteSheet._frames[f.currentFrame];f.width=j.rect.width;f.height=j.rect.height}catch(h){throw h;}b?(f.regX=f.width/2,f.regY=f.height/2):(f.regX=0,f.regY=0);return f}catch(k){throw"ERROR: Unable to create bitmap name: "+
a;}};c.getBitmapAnimation=function(a,b){var e=c.getBitmap(a,b,!0);e.gotoAndPlay(a);return e};d.Assets=c})(window.Atari.currentGame);(function(d){function c(a,b,e,c){this.spritesheet=a;this.speed=b;this.front=c;this.wabble=e||!1;this.initialize()}c.prototype={sprite:null,x:null,y:null,width:null,height:null,index:null,slice:null,total:null,spritesheet:null,wabble:null,angle:null,container:null,containerHeight:null,speed:null,len:null,front:null,initialize:function(){this.total=622;this.len=this.speed;this.containerHeight=0;this.container=new Container;this.slice=Math.ceil(this.total/this.len);this.angle=0;this.sprite=new Container;
this.container=new Container;for(var a=0;a<this.len+1;a++){var b=new BitmapAnimation(this.spritesheet);this.front?b.gotoAndStop("WaterfallFrontTile"):b.gotoAndStop("WaterfallTile");b.y=208*a;this.containerHeight+=208;this.container.addChild(b)}this.sprite.addChild(this.container);this.width=267;this.height=1244},tick:function(){this.wabble&&(this.sprite.x=80+40*Math.sin(this.angle),this.angle+=0.03);this.container.y=(this.container.y-this.slice)%(this.total-this.containerHeight)}};d.currentGame.EnergyField=
c})(window.Atari);(function(d){function c(a){this.spritesprite=a;this.initialize()}c.prototype={sprite:null,vx:null,vy:null,active:null,duration:null,speed:null,width:null,height:null,currentLevel:null,data:null,maxValue:null,minValue:null,ss:null,resume:null,hitSound:null,initialize:function(){this.speed=25;this.maxValue=1E3;this.minValue=500;this.vx=this.vy=0;this.duration=1E3;this.resume=this.active=!0;this.sprite=new BitmapAnimation(this.spritesprite);this.sprite.gotoAndPlay("BossProjectile");this.sprite.visible=
!1;this.sprite.regX=32;this.sprite.regY=44;this.width=64;this.height=88},hit:function(){this.active=!1;null==this.hitSound&&(this.hitSound=SoundJS.play("swirlHit"))},stop:function(){this.resume=!1;this.duration=-1;this.active=!1},start:function(){this.active=this.resume=!0;var a=Math.max(this.minValue,this.maxValue-this.currentLevel);this.duration=1+Math.max(0,this.minValue-this.currentLevel)+Math.random()*a|0},resetDuration:function(){this.maxValue=1E3;this.minValue=500},tick:function(){if(this.resume)if(0==
--this.duration){this.active=!0;var a=Math.max(this.minValue,this.maxValue-this.currentLevel);this.duration=1+Math.max(0,this.minValue-this.currentLevel)+Math.random()*a|0}else this.active=!1,this.hitSound&&this.hitSound.stop(),this.hitSound=null}};d.currentGame.Swirl=c})(window.Atari);(function(d){function c(a){this.canvas=a}c.SHOOTING_BLOCK=1;c.COLLECT_ENERGY=5;c.SHOOT_BADDIES=10;c.HIT_SWIRL=5E3;c.SHOOTING_QOTILE_WITH_ZORION=1E4;c.SHOOTING_SWIRL_WITH_ZORION_BEFORE_LAUNCH=2E3;c.SHOOTING_SWIRL_WITH_ZORION_AFTER_LAUNCH=6E3;c.MILE_STONE_1=7E4;c.MILE_STONE_2=15E4;c.MILE_STONE_3=23E4;c.TOTAL_ALLOWED=3;c.FIRE_RATE=5;c.SPARK_PROPS={decay:0.95,life:1,rotation:!0,gravity:0.1,spread:0,variation:0,stretchFactor:null,scaleDecay:1,addOnBottom:!0};c.prototype={yars:null,qotile:null,energyField:null,
energyField2:null,count:null,stage:null,direction:null,zorlanCanon:null,bullet:null,w:null,h:null,lastTick:null,tickInterval:null,intervalCount:null,isActive:null,force:null,isMoving:null,TARGET_FPS:null,targetX:null,targetY:null,swirl:null,totalLives:null,dir:null,currentX:null,oldX:null,splashHasPlayed:null,spritesheet:null,circles:null,baddies:null,bullets:null,energies:null,timer:null,angle:null,offsetX:null,offsetY:null,cannon:null,insideCannon:null,totalCollected:null,killedCircle:null,shake:null,
targetAngle:null,swirlMoving:null,baddyTimer:null,missile:null,missileActive:null,allowRotation:null,allowBossMove:null,container:null,containerAngle:null,constainerSpeed:null,moveJoyStick:null,index:null,numTicks:null,numTicks2:null,tickFactor:null,killPlayer:null,gameInfo:null,assets:null,onLevelComplete:null,onGameComplete:null,onGameOver:null,onGameError:null,onLifeLost:null,isInsideField:null,emitter:null,activeList:null,levelManager:null,popup:null,waterfallSplash:null,frontWaterfall:null,pinkParticles:null,
blueParticles:null,yarsParticles:null,buttonOverlay:null,hitArea:null,currentStageX:null,currentStageY:null,music:null,jungleSound:null,qotileDestroyed:null,forceFieldSound:null,cannonSound:null,fireSound:null,swirlSound:null,qotileAttackSound:null,qotile_attack:null,yarsKillSound:null,clicks:null,perf:null,touchList:null,allowConstantFire:null,isGameOver:null,splashSound:null,inWaterfallSound:null,playInside:null,turnOffParticles:null,hasPressed:null,particleContainer:null,stopSwirlMovement:null,
bulletIndex:null,pool:null,bulletMax:null,initialize:function(a,b,e){this.assets=a;this.gameInfo=e;this.stage=b;this.pool=[];this.bullet=0;this.bulletMax=5;this.circles=[];this.bullets=[];this.baddies=[];this.energies=[];this.angle=0;this.timer=100;this.offsetX=962;this.offsetY=300;this.insideCannon=!1;this.totalCollected=0;this.shake=!1;this.targetAngle=0;this.swirlMoving=!1;this.baddyTimer=0;this.missileActive=!1;this.constainerSpeed=0;this.hasPressed=this.turnOffParticles=!1;this.clicks=[];this.numTicks2=
this.numTicks=this.index=this.containerAngle=0;this.spritesheet=new GameLibs.SpriteSheetWrapper(this.assets.yarsAssetsAll);this.pinkParticles=new BitmapAnimation(this.spritesheet);this.pinkParticles.gotoAndStop("RedParticle");this.blueParticles=new BitmapAnimation(this.spritesheet);this.blueParticles.gotoAndStop("BlueParticle");this.yarsParticles=new BitmapAnimation(this.spritesheet);this.yarsParticles.gotoAndStop("YarParticle");this.w=this.stage.canvas.width;this.h=this.stage.canvas.height;this.isActive=
!1;this.force=1.5;this.isMoving=!1;this.angle=0;this.activeList=[];this.yars=new d.currentGame.Yars(this.spritesheet,Atari.proxy(this.yarsReady,this));this.cannon=new d.currentGame.Cannon(this.spritesheet);this.qotile=new d.currentGame.Qotile(this.spritesheet,Atari.proxy(this.qotileHitComplete,this));this.qotile.sprite.x=this.offsetX;this.qotile.sprite.y=this.offsetY;this.qotile.originX=this.offsetX;this.qotile.originY=this.offsetY;this.energyField=new d.currentGame.EnergyField(this.spritesheet,3.1,
!0,!1);this.energyField.sprite.x=85;this.energyField2=new d.currentGame.EnergyField(this.spritesheet,3.15,!1,!1);this.energyField2.sprite.x=85;this.frontWaterfall=new d.currentGame.EnergyField(this.spritesheet,3.1,!1,!0);this.frontWaterfall.sprite.x=80;this.waterfallSplash=new d.currentGame.Splash(this.spritesheet);this.waterfallSplash.sprite.x=211;this.waterfallSplash.sprite.y=this.h;this.swirl=new d.currentGame.Swirl(this.spritesheet);this.swirl.sprite.x=this.offsetX;this.swirl.sprite.y=this.offsetY;
this.levelManager=new d.currentGame.LevelManager;a=this.levelManager.getLevelType();this.allowRotation=a.rotation;this.constainerSpeed=a.oscillate?0.02:0;this.container=new Container;this.container.x=this.offsetX+1E3;this.container.y=this.offsetY;this.stage.addChild(this.container);this.oldX=this.currentX=this.dir=0;this.playInside=this.splashHasPlayed=!1;this.scoreBoardSetUp();new GameLibs.FPSMeter(this.stage);this.shootAllowed=!0;this.lastTick=Ticker.getTime();this.killPlayer=!1;e=GameLibs.GameUI.changeBackground(this.assets.background,
e.width,e.height);b.addChildAt(e,0);new GameLibs.SpriteSheetWrapper(this.assets.controls,"images/");this.hitArea=new Shape;this.hitAreaShape=new Shape;b=this.hitAreaShape.graphics;b.setStrokeStyle(1);b.beginFill("#FF0099");b.drawRect(0,0,this.w,this.h);b.endFill();this.hitArea.hitArea=this.hitAreaShape;this.hitArea.onPress=Atari.proxy(this.handleMouseDown,this);this.stage.addChild(this.hitArea);this.gameInfo.touchEnabled&&(this.moveJoyStick=new GameLibs.Joystick(null,{controlDirection:!0,autoHide:!1,
radius:20,pullRadius:50},this.spritesheet),this.moveJoyStick.setPosition(100,550),this.buttonOverlay=new Shape,this.shootBtn=new GameLibs.ArcadeButton(GameLibs.GamePad.BUTTON_3,null,this.spritesheet,"shoot",{hoverAlpha:1,disabledAlpha:0.5,alpha:1}),this.shootBtn.setDisabled(!0),this.shootBtn.setPosition(925,550),this.stage.addChild(this.moveJoyStick.sprite,this.shootBtn.sprite));GameLibs.GamePad.player.onButtonDown=Atari.proxy(this.handleKeyBoardButton,this);this.perf=new GameLibs.PerformanceMonitor(Atari.proxy(this.enableLowQuality,
this),40);this.init()},handleKeyBoardButton:function(a){a==GameLibs.GamePad.BUTTON_1&&(!this.isInsideField&&this.shootAllowed)&&(this.shootAllowed=!1,Tween.get(this,{override:!1}).wait(250).call(this.fireDelay,null,this));(a==GameLibs.GamePad.BUTTON_3||a==GameLibs.GamePad.BUTTON_2)&&this.handleShoot();a==GameLibs.GamePad.BUTTON_2&&(this.yars.arm.rotation+=5);a==GameLibs.GamePad.BUTTON_4&&(this.yars.arm.rotation-=5)},fireDelay:function(){this.shootAllowed=!0;this.fire(this.tickFactor)},enableLowQuality:function(a){(this.turnOffParticles=
a)?(this.energyField.sprite.alpha=0,this.energyField2.sprite.alpha=0,this.waterfallSplash.sprite.alpha=0,this.frontWaterfall.sprite.alpha=1):(this.energyField.sprite.alpha=1,this.energyField2.sprite.alpha=1,this.waterfallSplash.sprite.alpha=1)},handleShoot:function(){!this.isGameOver&&(this.cannon.fullCharge&&!this.cannon.hasFired)&&(this.fireMissile(this.cannon),null!=this.shootBtn&&this.shootBtn.setDisabled(!this.cannon.fullCharge))},qotileHitComplete:function(){this.qotile.drool.alpha=0;Tween.get(this.qotile.sprite,
{override:!0}).to({alpha:0},500).call(this.handleComplete,null,this)},handleComplete:function(){this.qotile.sprite.visible=!0;this.qotile.sprite.alpha=0;this.levelManager.levelComplete();var a=this.levelManager.currentLevel;this.scoreBoard.updateLevels(this.levelManager.currentLevel);this.popup.setText("Level "+a);this.popup.show(1500);this.cannon.reset();this.stopSwirlMovement=!1;this.cannon.total=this.levelManager.getCannonChargeTotal();this.stage.setChildIndex(this.popup.sprite,this.stage.children.length-
1);Tween.get(this).wait(4E3).call(this.handleLevelComplete,null,this)},handleLevelComplete:function(){this.qotileDestroyed.stop();this.totalCollected=0;null!=this.shootBtn&&this.shootBtn.setDisabled(!this.cannon.fullCharge);this.yars.full=!1;this.onLevelComplete();this.swirl.duration=1E3;this.swirl.active=!0;this.swirl.resume=!0;this.startLevel()},startLevel:function(){this.touchList=[];this.isGameOver=!1;this.index=0;this.stopSwirlMovement=!1;this.oldX=this.currentX=this.dir=0;this.turnOffParticles=
this.playInside=this.splashHasPlayed=!1;this.containerAngle=0;this.container.x=this.offsetX+1E3;this.container.y=this.offsetY+30;this.qotile.sprite.x=this.offsetX;this.qotile.sprite.y=this.offsetY;var a=this.levelManager.getLevelType();this.allowRotation=a.rotation;this.constainerSpeed=a.oscillate?0.02:0;this.qotile.sprite.visible=!0;this.qotile.sprite.alpha=0;this.qotile.drool.alpha=0;this.createRings(22,40,150,"left",0.01);this.createRings(29,40,210,"right",0.01);this.cannon.total=this.levelManager.getCannonChargeTotal();
null!=this.shootBtn&&this.shootBtn.setDisabled(!this.cannon.fullCharge);this.qotile.reset();this.qotile.hitTotal=this.levelManager.getQotileHitTotal()},handleMouseUp:function(){this.allowConstantFire=!1;this.touchList=[]},handleMouseMove:function(a){this.currentStageX=a.rawX;this.currentStageY=a.rawY},handleMouseDown:function(a){a.onMouseUp=Atari.proxy(this.handleMouseUp,this);a.onMouseMove=Atari.proxy(this.handleMouseMove,this);this.hasPressed=this.allowConstantFire=!0;this.currentStageX=a.rawX;
this.currentStageY=a.rawY;this.touchList.push(a)},prepMissile:function(){this.isInsideField||this.fire(this.tickFactor)},pauseSound:function(){},loadPool:function(){for(var a=0;a<this.bulletMax;a++){var b=new d.currentGame.Blast(this.spritesheet);this.pool.push(b)}this.bulletIndex=this.bulletMax},bulletBackToPool:function(a){this.pool[this.bulletIndex++]=a},getBullet:function(){if(0<this.bulletIndex)return this.pool[--this.bulletIndex];Atari.trace("Empty");return null},init:function(){this.loadPool();
this.startLevel();this.cannon.sprite.x=0;this.cannon.sprite.y=330;this.stage.addChild(this.cannon.sprite);this.stage.addChild(this.qotile.sprite);this.stage.addChild(this.energyField.sprite);this.stage.addChild(this.energyField2.sprite);this.stage.addChild(this.swirl.sprite);this.stage.addChild(this.scoreBoard.sprite);this.yars.sprite.x=75;this.yars.sprite.y=300;this.stage.addChild(this.yars.sprite);this.stage.addChild(this.waterfallSplash.sprite);this.stage.addChild(this.frontWaterfall.sprite);null!=
this.shootBtn&&(this.stage.setChildIndex(this.shootBtn.sprite,this.stage.getNumChildren()-1),this.stage.setChildIndex(this.moveJoyStick.sprite,this.stage.getNumChildren()-1));this.particleContainer=new Container;this.stage.addChild(this.particleContainer);this.emitter=new GameLibs.ParticleEmitter(this.particleContainer);this.popup=new d.currentGame.Popup;this.popup.sprite.x=this.w-this.popup.sprite.width>>1;this.popup.sprite.y=this.h-this.popup.sprite.height>>1;this.stage.addChild(this.popup.sprite)},
touchPadSetup:function(){this.touchPad=new GameLibs.TouchBar(this.stage,new Rectangle(0,0,this.w,this.h),this.yars.sprite,"TL");this.touchPad.targetMode=GameLibs.TouchBar.TWEEN_MODE;this.touchPad.targetAmount=5},scoreBoardSetUp:function(){this.scoreBoard=new d.currentGame.ScoreBoard(this.spritesheet);this.scoreBoard.updateLives(this.levelManager.lives);this.scoreBoard.updateLevels(this.levelManager.currentLevel);this.scoreManager=new GameLibs.ScoreManager(this.scoreBoard.scoreDisplay);this.scoreManager.leading=
1},fireMissile:function(a){!this.cannon.hasFired&&null==this.missile&&(this.cannon.hasFired=!0,this.missile=new d.currentGame.Missile(this.spritesheet),this.missile.sprite.x=a.sprite.x+a.width/2,this.missile.sprite.y=this.cannon.sprite.y+this.cannon.sprite.height/2+3,this.missileActive=!0,this.playSound("missileFire"),this.cannon.shootCannon(),this.cannon.reset(),this.stage.addChild(this.missile.sprite))},fire:function(){this.numTicks+=1*(this.tickFactor/2);if(!this.yars.isKilled){if(this.gameInfo.touchEnabled){var a=
180*Math.atan2(this.currentStageY-this.yars.sprite.y,this.currentStageX-this.yars.sprite.x)/Math.PI;this.yars.arm.rotation=this.hasPressed?a:10;this.yars.backArm.rotation=this.hasPressed?a:10}a=this.getBullet();if(null!=a){a.speed=15*this.tickFactor;a.angle=this.yars.arm.rotation;this.playSound("fire");this.yars.fire();a.vx=a.speed*Math.cos(a.angle*Math.PI/180);a.vy=a.speed*Math.sin(a.angle*Math.PI/180);a.sprite.rotation=a.angle;var b=this.yars.hand.localToGlobal(0,0);a.sprite.x=b.x;a.sprite.y=b.y-
5;this.bullets.push(a);this.stage.addChild(a.sprite);this.stage.setChildIndex(a.sprite,this.stage.getChildIndex(this.yars.sprite)-1)}}},startGame:function(){this.jungleSound=SoundJS.play("jungleMusic",null,0,0,-1);this.jungleSound.pause();this.music=SoundJS.play("music",null,0,0,-1);this.music.pause();this.inWaterfallSound=SoundJS.play("inWaterfallSound",null,0,0,-1);this.inWaterfallSound.pause();this.popup.setText("Level "+this.levelManager.currentLevel);this.popup.show(1500);this.stage.setChildIndex(this.popup.sprite,
this.stage.getNumChildren()-1);this.jungleSound.setVolume(1);this.music.setVolume(1);this.yars.start()},pause:function(a){a?(this.music.pause(),this.jungleSound.pause()):(this.music.resume(),this.jungleSound.resume())},getScore:function(){return new GameLibs.GameDetails(this.scoreManager.score,this.levelManager.currentLevel,this.scoreBoard.lives+1)},continueGame:function(a){a||this.scoreManager.setScore(0);this.isGameOver=!1;this.handleContinuePress()},restart:function(){this.swirl.sprite.visible&&
this.resetSwirl();this.totalLives=3;this.scoreManager.setScore(0);this.isGameOver=!1;this.scoreBoard.resetLives();this.levelManager.reset();this.swirl.stop();this.qotile.charged=!1;this.music.resume();this.scoreBoard.updateLevels(this.levelManager.currentLevel);this.cannon.reset();this.jungleSound.resume();var a=this.levelManager.getLevelType();this.allowRotation=a.rotation;this.constainerSpeed=a.oscillate?0.02:0;this.totalCollected=0;this.container.y=this.offsetY+30;for(var b=this.energies.length,
a=this.energies.length-1;0<=a;a--)b=this.energies.splice(a,1)[0],this.stage.removeChild(b.sprite);b=this.circles.length;for(a=0;a<b;a++){var e=this.circles[a];e.getHit()||e.resetEgg()}this.cannon.total=this.levelManager.getCannonChargeTotal();this.qotile.reset();this.qotile.hitTotal=this.levelManager.getQotileHitTotal();null!=this.missile&&(this.missileActive=!1,this.stage.removeChild(this.missile.sprite));this.missile=null;this.spawnYars();this.swirl.sprite.x=this.offsetX;this.swirl.sprite.y=this.offsetY;
this.swirl.start()},handleContinuePress:function(){this.totalLives=3;this.scoreBoard.resetLives();Tween.get(this.yars.sprite).wait(1E3).call(this.spawnYars,null,this);this.music.resume();this.jungleSound.resume()},destroy:function(){},gameOver:function(){this.jungleSound.pause();this.music.pause();this.inWaterfallSound.pause();this.isGameOver=!0;this.playSound("loseCoda");this.onGameOver()},createRings:function(a,b,e,c,f){for(var b=0,j=2*Math.PI/a,h,k=1;k<a+1;k++){h=new d.currentGame.Fetus(this.spritesheet);
h.sprite.x=Math.cos(b)*e;h.sprite.y=Math.sin(b)*e;h.timer=this.levelManager.getFetusSpawnTime();b=j*k;h.angle=b;h.stationaryAngle=b;h.outer=e;h.direction=c;h.speed=f;var l=180*b/Math.PI;this.allowRotation?(this.container.addChild(h.sprite),this.circles.push(h)):65<l&&310>l?(this.container.addChild(h.sprite),this.activeList.push(h),this.circles.push(h)):h.setHit(!1)}Tween.get(this.container).to({x:this.offsetX},2E3).call(this.containerHasAppeared,null,this)},containerHasAppeared:function(){Tween.get(this.qotile.sprite,
{override:!0}).to({alpha:1},1E3).call(this.qotileAppears,null,this);Tween.get(this.qotile.drool).wait(1E3).to({alpha:1},1E3);this.music.resume();this.jungleSound.resume()},qotileAppears:function(){this.qotile.sprite.alpha=1},getSprite:function(a,b){var e=new d.currentGame.Ball(a/2,b);e.hitCount=5;return e},playSound:function(a,b){var e=SoundJS.play(a);null!=b&&e.setVolume(b);return e},checkBounds:function(a){a.sprite.x=Math.max(a.width/8,Math.min(a.sprite.x,this.w-a.width/2));a.sprite.y=Math.max(a.height/
8,Math.min(a.sprite.y,this.h-a.height/4))},checkWalls:function(a){var b=this.h;return a.sprite.x-a.width/2>this.w||0>a.sprite.x+a.width/2||a.sprite.y-a.height/2>b||0>a.sprite.y+a.height/2?!0:!1},checkCollisionSwirl:function(a,b){if(this.swirl.sprite.visible&&null!=a&&this.calculateDistance(this.swirl,a,25)&&this.stage.contains(a.sprite))if(b)this.popup.showing||(this.popup.setText("Extra Life"),this.popup.show(1500),this.scoreBoard.addLife(),this.stage.setChildIndex(this.popup.sprite,this.stage.children.length-
1),this.cannon.hasFired=!1),this.scoreManager.addScore(c.HIT_SWIRL),this.resetSwirl(),this.missileActive=!1,this.stage.removeChild(this.missile.sprite),this.missile=null;else{var e=this.bullets.indexOf(a);-1<e&&(this.bullets.splice(e,1),this.bulletBackToPool(a));this.stage.removeChild(a.sprite)}},checkCollisionYars:function(){!this.isGameOver&&(this.calculateDistance(this.missile,this.yars,0)&&this.stage.contains(this.missile.sprite))&&(this.missileActive=!1,this.stage.removeChild(this.missile.sprite),
this.missile=null,this.playerKilled())},checkCollisionMissile:function(){var a=this.circles.length;if(null!=this.missile)for(var b,e=0;e<a;e++)if(b=this.circles[e],b.getHit()&&this.calculate(b,this.missile,0)){b.setHit(!1);this.killedCircle=b;this.createEnergy();this.stage.contains(this.missile.sprite)&&(this.scoreManager.addScore(2*this.SHOOTING_BLOCK),this.missileActive=!1,this.createSparks(this.missile.sprite.x,this.missile.sprite.y,[this.blueParticles],5),this.stage.removeChild(this.missile.sprite),
this.missile=null);break}},removeAllEnemies:function(){this.swirl.stop();this.qotile.charged=!1;for(var a=this.baddies.length-1;0<=a;a--){var b=this.baddies[a],e=b.sprite.x,c=b.sprite.y;this.createExplosion(e,c);this.stage.removeChild(b.sprite);this.baddies.splice(a,1)}for(a=this.circles.length-1;0<=a;a--)b=this.circles[a],b.getHit()&&(c=this.container.getChildAt(a),e=this.container.x+c.x,c=this.container.y+c.y,this.createExplosion(e,c,"QotileExplosion"),b.setHit(!1));this.container.removeAllChildren();
this.circles=[];for(a=this.bullets.length-1;0<=a;a--)e=this.bullets[a],this.stage.removeChild(e.sprite),this.bullets.splice(a,1),this.bulletBackToPool(e);this.activeList=[];this.bullets=[];this.baddies=[]},checkCollisionBossMissile:function(){!this.isGameOver&&(null!=this.missile&&this.calculateDistance(this.qotile,this.missile,40)&&this.stage.contains(this.missile.sprite))&&(this.stage.removeChild(this.missile.sprite),this.missile=null,this.missileActive=!1,this.playSound("qotileHit"),this.qotile.hit(!0),
this.qotile.hitCount==this.qotile.hitTotal&&(this.qotile.kill(),this.qotileDestroyed=this.playSound("qotile_destroyed"),this.scoreManager.addScore(c.SHOOTING_QOTILE_WITH_ZORION),this.qotile.isKilled=!0,this.removeAllEnemies()))},checkCollisionBoss:function(a,b,e){!this.isGameOver&&(null!=a&&this.calculateDistance(this.qotile,a,40)&&this.stage.contains(a.sprite))&&(this.qotile.hit(b),b?(this.scoreManager.addScore(c.SHOOTING_QOTILE_WITH_ZORION),"bullet"==e&&(b=this.bullets.indexOf(a),-1<b&&(this.bullets.splice(b,
1),this.bulletBackToPool(a)),this.stage.removeChild(a.sprite))):"bullet"==e&&1==this.qotile.sprite.alpha&&(this.createSparks(a.sprite.x,a.sprite.y,[this.blueParticles],5),this.qotile.hitSheild(a.sprite.x,a.sprite.y),b=this.bullets.indexOf(a),-1<b&&(this.bullets.splice(b,1),this.bulletBackToPool(a)),this.stage.removeChild(a.sprite)))},checkCollisionMissileBaddies:function(){if(!this.isGameOver&&null!=this.missile)for(var a,b=this.baddies.length-1;0<=b;b--)if(a=this.baddies[b],a.getHit()){var e=a.sprite.x-
this.missile.sprite.x,d=a.sprite.y-this.missile.sprite.y;if(Math.sqrt(e*e+d*d)<a.width/2+this.missile.width/2){a.setHit(!1);this.scoreManager.addScore(c.SHOOT_BADDIES);this.playSound("squidKilled");this.createEnergy();this.stage.removeChild(this.missile.sprite);this.stage.removeChild(a.sprite);a=this.baddies.indexOf(a);-1<a&&this.baddies.splice(a,1);this.missile=null;break}}},checkCollisionBaddies:function(a){if(!this.isGameOver&&null!=a)for(var b,e=this.baddies.length-1;0<=e;e--)if(b=this.baddies[e],
b.getHit()){var d=b.sprite.x-a.sprite.x,f=b.sprite.y-a.sprite.y;if(Math.sqrt(d*d+f*f)<b.width/2+a.width/2){b.setHit(!1);this.killedCircle=b;this.scoreManager.addScore(c.SHOOT_BADDIES);this.createEnergy();this.createSparks(a.sprite.x,a.sprite.y,[this.pinkParticles],5);this.playSound("squidKilled");e=this.bullets.indexOf(a);-1<e&&(this.bullets.splice(e,1),null!=a.sprite&&(this.bulletBackToPool(a),this.stage.removeChild(a.sprite)));e=this.baddies.indexOf(b);-1<e&&(this.baddies.splice(e,1),null!=b.sprite&&
this.stage.removeChild(b.sprite));break}}},checkCollision:function(a){if(!this.isGameOver){var b=this.circles.length;if(null!=a)for(var e,d=0;d<b;d++)if(e=this.circles[d],e.getHit()&&this.calculate(e,a,10)){this.createSparks(a.sprite.x,a.sprite.y,[this.pinkParticles],5);this.playSound("eggZap");this.scoreManager.addScore(c.SHOOTING_BLOCK);e.setHit(!1);this.killedCircle=e;this.createEnergy();b=this.bullets.indexOf(a);-1<b&&(this.bullets.splice(b,1),this.bulletBackToPool(a));this.stage.removeChild(a.sprite);
break}}},checkYars:function(a){if(!this.isGameOver&&a.getHit()&&!this.yars.isKilled&&this.calculate(a,this.yars,10)){var b=a.sprite.localToGlobal(0,0),c=this.yars.width/2+a.width/2,d=Math.atan2(this.yars.sprite.y-b.y,this.yars.sprite.x-b.x),f=b.x+Math.cos(d)*c,b=0.75*(b.y+Math.sin(d)*c-this.yars.sprite.y);this.yars.sprite.x+=0.75*(f-this.yars.sprite.x)*this.tickFactor;this.yars.sprite.y+=b*this.tickFactor;--a.hitCount}},getRandomFetusItem:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.getHit()&&
b.push(d)}return b[Math.random()*b.length|0]},launchBaddy:function(a){this.baddyTimer+=1*a;if(this.baddyTimer>this.levelManager.getBaddyTimer()&&this.baddies.length<c.TOTAL_ALLOWED){var b;this.playSound("skull_baddy");b=this.allowRotation?this.getRandomFetusItem(this.circles):this.getRandomFetusItem(this.activeList);null!=b&&null!=b.sprite&&(a=b.sprite.localToGlobal(0,0),b=new d.currentGame.Baddy(b.width/2,"#FF0000",this.spritesheet),b.timer=this.levelManager.getBaddySpawnTime(),b.sprite.x=a.x,b.sprite.y=
a.y,Math.atan2(this.yars.sprite.y-b.sprite.y,this.yars.sprite.x-b.sprite.x),b.sprite.rotation=0,this.baddies.push(b),this.stage.addChild(b.sprite),this.baddyTimer=0)}},fixAngle:function(a){return 0>(a%=360)?a+360:a},checkCollisionCannon:function(){var a=this.insideCannon;if((this.insideCannon=this.calculateDistance(this.cannon,this.yars,250))&&!a){for(a=0;a<this.totalCollected;a++){var b=new BitmapAnimation(this.spritesheet);b.gotoAndPlay("Energy");b.x=this.yars.sprite.x;b.y=this.yars.sprite.y;this.stage.addChild(b);
var c=GameLibs.Math2.getRange(this.cannon.sprite.x+this.cannon.width/2,this.cannon.sprite.x+this.cannon.width/2+5),d=GameLibs.Math2.getRange(this.cannon.sprite.y+this.cannon.height,this.cannon.sprite.y+this.cannon.height/2);Tween.get(b).to({x:c,y:d},250*(a+1)).call(this.energyToChangeComplete,null,this)}this.yars.full=!1}},energyToChangeComplete:function(a){this.stage.removeChild(a._target);this.playSound("chargeCannon");this.yars.isKilled||this.scoreManager.addScore(5);this.cannon.fullCharge||this.cannon.chargeCannon(1);
null!=this.shootBtn&&this.shootBtn.setDisabled(!this.cannon.fullCharge);this.totalCollected--},checkCollisionEnergy:function(){for(var a,b=0;b<this.energies.length;b++)if(a=this.energies[b],a.getHit()&&this.calculateDistance(a,this.yars,0)&&(a.sprite.alpha-=0.25,0>=a.sprite.alpha)){this.playSound("collectEnergy");this.stage.removeChild(a.sprite);this.yars.full=!0;a=this.energies.indexOf(a);-1<a&&this.energies.splice(a,1);this.scoreManager.addScore(c.COLLECT_ENERGY);this.totalCollected++;break}},createEnergy:function(){if(null!=
this.killedCircle){var a=new d.currentGame.Energy(this.spritesheet),b=this.killedCircle.sprite.localToGlobal(0,0);a.sprite.x=b.x;a.sprite.y=b.y;a.vx=GameLibs.Math2.getRange(-8,2);a.vy=GameLibs.Math2.getRange(-2,4);this.energies.push(a);this.stage.addChild(a.sprite)}},setupSwirlTarget:function(){this.stopSwirlMovement=!0;var a=this.yars.sprite.x-this.swirl.sprite.x,b=this.yars.sprite.y-this.swirl.sprite.y;this.swirl.currentLevel=this.levelManager.currentLevel;this.targetAngle=Math.atan2(b,a)},resetSwirl:function(){this.qotile_attack.stop();
this.swirl.active=!1;this.targetAngle=0;this.swirl.sprite.visible=!1;this.swirl.sprite.x=this.offsetX;this.swirl.sprite.y=this.offsetY;this.stopSwirlMovement=this.swirlMoving=!1},moveYars:function(){var a=GameLibs.GamePad,b=a.player,c=10*this.tickFactor,d=0,f=0;b.isButtonDown(a.UP)&&(f=-c);b.isButtonDown(a.DOWN)&&(f=c);b.isButtonDown(a.LEFT)&&(d=-c);b.isButtonDown(a.RIGHT)&&(d=c);this.moveJoyStick&&this.moveJoyStick.buttonActive&&(a=this.moveJoyStick.currentAmount,d*=Math.abs(a.x),f*=Math.abs(a.y));
this.yars.sprite.x+=d;this.yars.sprite.y+=f},onAnimationComplete:function(){this.stage.contains(this.yars.sprite)&&(this.stage.removeChild(this.yars.sprite),this.scoreBoard.removeLife(),this.yars.kill(),this.checkLives())},playerKilled:function(){this.player_killed=this.playSound("player_killed");this.createExplosion(this.yars.sprite.x,this.yars.sprite.y);this.yars.kill();this.totalCollected=0;this.cannon.total=this.levelManager.getCannonChargeTotal();Tween.get(this.yars.sprite).wait(2E3).call(this.killYarsSound,
null,this);this.createSparks(this.yars.sprite.x,this.yars.sprite.y,[this.yarsParticles])},killYarsSound:function(){this.player_killed.stop()},createSparks:function(a,b,e,d){this.turnOffParticles||this.emitter.emitMultiple({x:a,y:b},d,c.SPARK_PROPS,e)},createExplosion:function(a,b,c){null==c&&(c="YarExplosion");this.spritesheet._data[c].frequency=5;var d=new BitmapAnimation(this.spritesheet);d.onAnimationEnd=Atari.proxy(this.handleExplosionComplete,this,d);d.x=a;d.y=b;d.gotoAndPlay(c);this.stage.addChild(d)},
handleExplosionComplete:function(a){this.stage.removeChild(a)},yarsReady:function(){this.stage.removeChild(this.yars.sprite);this.scoreBoard.removeLife();this.totalCollected=0;this.checkLives()},moveBaddies:function(){for(var a,b=0;b<this.baddies.length;b++)a=this.baddies[b],a.tick(this.yars,this.tickFactor),this.calculateDistance(this.yars,a,0)&&(this.yars.sprite.y<this.h&&this.stage.contains(this.yars.sprite)&&!this.yars.isKilled)&&(this.createExplosion(this.yars.sprite.x,this.yars.sprite.y),this.playSound("player_killed"),
this.yars.kill())},checkLives:function(){-1<this.scoreBoard.lives?this.spawnYars():this.gameOver()},spawnYars:function(){for(var a=this.bullets.length,b,c=0;c<a;c++)b=this.bullets[c],null!=b&&(this.bulletBackToPool(b),this.stage.removeChild(b.sprite));a=this.baddies.length;for(c=0;c<a;c++)b=this.baddies[c],null!=b&&this.stage.removeChild(b.sprite);this.bullets=[];this.baddies=[];this.yars.reset();this.yars.sprite.x=75;this.yars.sprite.y=300;this.stage.addChild(this.yars.sprite);this.stage.setChildIndex(this.frontWaterfall.sprite,
this.stage.getNumChildren()-1);this.stage.setChildIndex(this.waterfallSplash.sprite,this.stage.getNumChildren()-1);null!=this.shootBtn&&(this.stage.setChildIndex(this.shootBtn.sprite,this.stage.getNumChildren()-1),this.stage.setChildIndex(this.moveJoyStick.sprite,this.stage.getNumChildren()-1))},moveSwirl:function(){if(!this.isGameOver&&this.swirlMoving)if(this.checkWalls(this.swirl))this.resetSwirl();else{var a=this.levelManager.getSwirlSpeed(),b=Math.cos(this.targetAngle)*a*this.tickFactor,a=Math.sin(this.targetAngle)*
a*this.tickFactor;this.calculateDistance(this.swirl,this.yars,10)&&(this.resetSwirl(),this.playerKilled());this.swirl.sprite.rotation=180*this.targetAngle/Math.PI+180;this.swirl.sprite.x+=b;this.swirl.sprite.y+=a}},moveMissile:function(){if((null!=this.missile||this.missileActive)&&null!=this.missile)this.missile.sprite.x+=25*this.tickFactor,this.checkWalls(this.missile)?(this.missileActive=!1,this.stage.removeChild(this.missile.sprite),this.missile=null,this.qotile.charged=!1):(this.checkCollisionYars(),
this.swirl.sprite.visible&&this.checkCollisionSwirl(this.missile,!0),this.checkCollisionBossMissile(),this.checkCollisionMissile(this.missile),this.checkCollisionMissileBaddies())},moveBullet:function(){for(var a,b=0;b<this.bullets.length;b++){a=this.bullets[b];a.sprite.x+=a.vx*this.tickFactor;a.sprite.y+=a.vy*this.tickFactor;if(this.checkWalls(a)){b=this.bullets.indexOf(a);-1<b&&(this.bullets.splice(b,1),this.bulletBackToPool(a));this.stage.removeChild(a.sprite);break}this.swirl.sprite.visible&&
this.checkCollisionSwirl(a,!1);this.qotile.isKilled||this.checkCollisionBoss(a,!1,"bullet");this.checkCollision(a);this.checkCollisionBaddies(a)}},moveRings:function(){this.levelManager.getLevelType().oscillate||(this.containerAngle=0);this.container.y=20+this.offsetY+80*Math.sin(this.containerAngle);this.qotile.sprite.y=this.container.y-30;this.stopSwirlMovement||(this.swirl.sprite.y=this.qotile.sprite.y);for(var a=this.circles.length,b=0;b<a;b++){var c=this.circles[b];c.tick();c.sprite.x=Math.cos(c.angle)*
c.outer;c.sprite.y=Math.sin(c.angle)*c.outer;this.allowRotation&&(c.angle="left"==c.direction?c.angle-c.speed:c.angle+c.speed);c.getHit()&&this.checkYars(c)}this.containerAngle+=this.constainerSpeed},calculate:function(a,b,c){var d=a.sprite.localToGlobal(0,0),f=b.sprite.x-d.x,d=b.sprite.y-d.y;return Math.sqrt(f*f+d*d)<b.width/2+a.width/2+c?!0:!1},calculateDistance:function(a,b,c){var d=b.sprite.x-a.sprite.x,f=b.sprite.y-a.sprite.y;return Math.sqrt(d*d+f*f)<b.width/2+a.width/2+c?!0:!1},moveCannon:function(){if(!this.isGameOver&&
!this.yars.isKilled){var a=Math.max(0,Math.min(this.yars.sprite.y-this.yars.height/2-30,this.h-this.cannon.height));this.cannon.sprite.y+=0.015*(a-this.cannon.sprite.y)}},moveEnergy:function(){for(var a,b=this.energies.length-1;0<=b;b--)a=this.energies[b],a.vx+=-0.045,a.vy+=0,a.vx*=0.97,a.vy*=0.97,a.sprite.x+=a.vx*this.tickFactor,a.sprite.y+=a.vy*this.tickFactor,a.sprite.x-a.width/2<this.energyField.sprite.x+this.energyField.width-20&&(a.sprite.alpha-=0.25,a.sprite.y+=5,0>a.sprite.alpha&&(this.energies.splice(b,
1),this.stage.removeChild(a.sprite)))},checkScore:function(){var a=this.scoreManager.score;a==this.MILE_STONE_1?(this.swirl.minValue/=3,this.swirl.maxValue/=3):a==this.MILE_STONE_2?this.swirl.resetDuration():a==this.MILE_STONE_3&&(this.swirl.minValue/=3,this.swirl.maxValue/=3)},checkWaterFallSound:function(){this.isInsideField?(this.oldX=this.currentX,this.currentX=this.yars.sprite.x,this.oldX>this.currentX?(this.dir=-1,this.isInsideField&&!this.splashHasPlayed&&(this.splashHasPlayed=!0,this.playSound("splashSound"))):
this.oldX<this.currentX?(this.dir=1,this.inside&&!this.splashHasPlayed&&(this.splashHasPlayed=!0,this.playSound("splashSound"))):(this.playInside||(this.inWaterfallSound.resume(),this.playInside=!0),this.dir=0)):(this.splashHasPlayed&&this.playSound("splashSound"),this.inWaterfallSound.pause(),this.splashHasPlayed=this.playInside=!1)},tick:function(a){this.tickFactor=a;this.emitter.tickFactor=a;null!=this.waterfallSplash&&this.waterfallSplash.tick(a);this.touchList.length&&this.allowConstantFire&&
this.yars.canFire&&this.prepMissile();this.isGameOver||this.launchBaddy(a);this.isInsideField=GameLibs.Math2.isBetween(this.yars.sprite.x,140,340);this.checkWaterFallSound();this.yars.disabled=this.isInsideField;this.isGameOver||(this.moveYars(a),this.moveMissile(),this.moveBullet(),this.moveBaddies(),this.checkBounds(this.yars),this.checkCollisionCannon(),this.checkCollisionEnergy(),this.moveRings(),this.moveEnergy(),this.qotile.tick(),this.swirl.tick());this.energyField.tick();this.energyField2.tick();
this.frontWaterfall.tick();var b;this.gameInfo.touchEnabled||(b=180*Math.atan2(this.currentStageY-this.yars.sprite.y,this.currentStageX-this.yars.sprite.x)/Math.PI,this.yars.arm.rotation=this.hasPressed?b:10,this.yars.backArm.rotation=this.hasPressed?b:10);this.yars.isBackwards=GameLibs.Math2.isBetween(this.yars.arm.rotation,-180,-90)||GameLibs.Math2.isBetween(this.yars.arm.rotation,90,180)?!0:!1;this.isGameOver||(this.yars.tick(b,this.tickFactor),this.checkScore());this.swirl.active&&!this.swirlMoving&&
this.qotile.charge();!this.isGameOver&&this.qotile.charged&&(this.qotile_attack=this.playSound("qotile_attack"),this.qotile.charged=!1,this.setupSwirlTarget(),this.swirlMoving=!0,this.swirl.sprite.visible=!0);this.moveSwirl();this.moveCannon()}};d.currentGame.YarsRevenge2=c})(window.Atari);(function(d){function c(a){this.score=0;this.spritesheet=a;this.initialize()}c.prototype={score:null,lives:null,scoreContainer:null,playersDisplay:null,scoreDisplay:null,sprite:null,image:null,padding:null,lifeContainer:null,count:null,max:null,spritesheet:null,initialize:function(){this.padding=5;this.max=9;this.count=this.lives=3;this.sprite=new Container;var a=new BitmapAnimation(this.spritesheet);a.gotoAndStop("UIText");a.x=20;a.y=23;this.lifeContainer=new Container;this.draw();this.scoreDisplay=
new Text("0","30px "+Atari.Fonts.DEMI,"#FFFFFF");this.scoreDisplay.x=20;this.scoreDisplay.y=30;this.levelDisplay=new Text("","30px "+Atari.Fonts.DEMI,"#FFFFFF");this.levelDisplay.x=160;this.levelDisplay.y=30;this.sprite.addChild(this.scoreDisplay);this.sprite.addChild(this.levelDisplay);this.sprite.addChild(a);this.sprite.addChild(this.lifeContainer)},draw:function(){if(!(0>this.lives))for(var a=0;a<this.lives;a++){var b=new BitmapAnimation(this.spritesheet);b.gotoAndStop("UIYarLives");b.x=233+40*
(a%9);b.y=50+34*(a/9|0);this.lifeContainer.addChild(b)}},addLife:function(){this.lifeContainer.getNumChildren()!=this.max&&(this.lifeContainer.removeAllChildren(),this.lives=Math.min(++this.count,this.max),this.updateLives(this.lives),this.draw())},removeLife:function(){this.lives=Math.max(-1,--this.count);0<=this.lives&&(this.lifeContainer.removeChildAt(this.lives),this.updateLives(this.lives))},resetScore:function(){this.updateScore(0)},resetLives:function(){this.lives=3;this.lifeContainer.removeAllChildren();
this.count=this.lives;this.draw()},updateLives:function(a){this.lives=a},updateLevels:function(a){this.level=a;this.levelDisplay.text=""+this.level},saveHighScore:function(){d.HighScores.saveLocalScore("yarsrevenge",this.score)},updateScore:function(a){0>a||(this.score+=a,this.scoreDisplay.text=""+this.score)}};d.currentGame.ScoreBoard=c})(window.Atari);
